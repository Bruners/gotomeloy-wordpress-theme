!function(t){"use strict";function s(){t(".fh").css("height",e+"px");var s=e-t(".site-header").height();t(".hero.small").css("height",.7*s+"px"),t(".hero.medium").css("height",.8*s+"px"),t(".hero.big").css("height",.9*s+"px"),t(".hero.full").css("height",s+"px"),t(".vcenter").each(function(){t(this).css("top",(t(this).parent().height()-t(this).height())/2+"px")})}var i=t(window).width(),e=t(window).height();t(".fh").css("height",e+"px");var a=e-t(".site-header").height();t(".hero.small").css("height",.7*a+"px"),t(".hero.medium").css("height",.8*a+"px"),t(".hero.big").css("height",.9*a+"px"),t(".hero.full").css("height",a+"px"),t(".vcenter").each(function(){t(this).css("top",(t(this).parent().height()-t(this).height())/2+"px")});var h={nav:function(){function s(s){s===!0?t(".site-menu").slideDown():t(".site-menu").slideUp()}i>960?(t(".trigger-nav").css("display","none"),t(".site-menu").css("display","block")):(t(".trigger-nav").css("display","block"),t(".site-menu").css("display","none")),t(".trigger-nav").on("click",function(){t(this).hasClass("open-nav")?(t(this).removeClass("open-nav"),s(!1)):(t(this).addClass("open-nav"),s(!0))}),t(window).bind("resize",function(){i>960?(t(".trigger-nav").css("display","none"),t(".site-menu").css("display","block"),t(".trigger-nav").hasClass("open-nav")&&t(".trigger-nav").removeClass("open-nav")):(t(".trigger-nav").css("display","block"),t(".site-menu").css("display","none"))}),t(window).on("scroll",function(){i>960&&t(".trigger-nav").hasClass("open-nav")&&(t(".trigger-nav").removeClass("open-nav"),s(!1))})},imgs:function(){t(".iBG").each(function(){t(this).css("background-image","url("+t(this).attr("data-img")+")")}),i>960&&t(window).bind("scroll",function(){var s=-(t(this).scrollTop()/1.3),i="50%"+s+"px";t(".parallax").each(function(){t(this).css("background-position",i)})})},grid:function(){for(var s=t(".grid"),e=0;e<s.length;e++){var a=t(s[e]),h=a.width(),n=a.find(".entry"),o=1,r=parseInt(a.attr("data-col"),10),c=parseInt(a.attr("data-margin"),10);c||(c=0);var l=parseFloat(a.attr("data-height"));l||(l=.7);var d=parseFloat(a.attr("data-double-height"));if(d||(d=1.5),s.css({margin:-Math.floor(c/2)+"px"}),i>=1024){h=a.width(),o=r?r:3;var g=Math.floor(h/o-c*o/o),p=Math.floor(g*l),f=Math.floor(c/2);n.each(function(){t(this).css({width:g+"px",height:p+"px",margin:f+"px"}),t(this).hasClass("h2")&&t(this).closest('[data-masonry="true"]').length&&t(this).css("height",p*d+c+"px"),t(this).hasClass("w2")&&t(this).closest('[data-masonry="true"]').length&&t(this).css("width",2*g+2*f+"px")})}else if(i>767){h=a.width(),1!==r&&(o=2);var g=Math.floor(h/o-c*o/o),p=Math.floor(g*l),f=Math.floor(c/2);n.each(function(){t(this).css({width:g+"px",height:p+"px",margin:f+"px"}),t(this).hasClass("h2")&&t(this).closest('[data-masonry="true"]').length&&t(this).css("height",p*d+c+"px"),t(this).hasClass("w2")&&t(this).closest('[data-masonry="true"]').length&&t(this).css("width",2*g+2*f+"px")})}else{h=a.width(),o=o;var g=Math.floor(h/o-c*o/o),p=Math.floor(g*l),f=Math.floor(c/2);n.each(function(){t(this).css({width:g+"px",height:p+"px",margin:f+"px"}),t(this).hasClass("h2")&&t(this).closest('[data-masonry="true"]').length&&t(this).css("height",p*d+c+"px"),t(this).hasClass("w2")&&t(this).closest('[data-masonry="true"]').length&&t(this).css("width",g+"px")})}}},masonry:function(){t(".grid").isotope({itemSelector:".entry"})},filtering:function(){var s=t(".grid");t(".filters li a").on("click",function(i){i.preventDefault(),t(".filters li a").removeClass("active"),t(this).addClass("active");var e=t(this).attr("data-filter");s.isotope({itemSelector:".entry",filter:e})})},back2top:function(){t(".back2top").on("click",function(){t("html, body").animate({scrollTop:0},1e3)})},fitvids:function(){t("#site-body").fitVids()}};t(window).bind("load",function(){t(".preloader").delay(200).fadeOut(),h.nav(),h.imgs(),h.grid(),h.masonry(),h.filtering(),h.back2top(),h.fitvids(),s()}),t(window).bind("resize",function(){i=t(window).width(),e=t(window).height(),h.grid(),h.masonry(),s()})}(jQuery);